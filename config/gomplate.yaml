# Gomplate configuration - replaces confd conf.d/*.toml
# Renders templates to their destination paths on container startup

inputDir: .claude/config/templates/

# Dynamic output mapping with environment variable support
# .in contains the input filename relative to inputDir
outputMap: |
  {{- $claudeDockerPath := getenv "HOME_CLAUDE_ROOT_PATH" | required "HOME_CLAUDE_ROOT_PATH environment variable must be set" -}}
  {{- $claudeConfigPath := getenv "CLAUDE_PATH" | required "CLAUDE_PATH environment variable must be set" -}}
  {{- $map := dict
    "ansible.cfg" "/root/ansible.cfg"
    "bashrc.sh" "/root/.bashrc"
    "ccstatusline_settings.json" "/root/.config/ccstatusline/settings.json"
    "mcp.json" ".mcp.json"
    "settings.json" "/root/.claude/settings.json"
    "pwsh_profile.ps1" "/root/.config/powershell/Microsoft.PowerShell_profile.ps1"
    "ssh_config.cfg" "/root/.ssh/config"
  -}}
  {{- index $map .in -}}
